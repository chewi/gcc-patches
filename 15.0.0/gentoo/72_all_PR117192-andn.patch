https://gcc.gnu.org/PR17192
https://gcc.gnu.org/bugzilla/attachment.cgi?id=59373

diff --git a/gcc/config/i386/mmx.md b/gcc/config/i386/mmx.md
index ef4ed8b501a..506f4cab6a8 100644
--- a/gcc/config/i386/mmx.md
+++ b/gcc/config/i386/mmx.md
@@ -4470,9 +4470,9 @@ (define_split
 (define_expand "andn<mode>3"
   [(set (match_operand:MMXMODEI 0 "register_operand")
         (and:MMXMODEI
-          (not:MMXMODEI (match_operand:MMXMODEI 1 "register_operand"))
-          (match_operand:MMXMODEI 2 "register_operand")))]
-  "TARGET_SSE2")
+          (not:MMXMODEI (match_operand:MMXMODEI 2 "register_operand"))
+          (match_operand:MMXMODEI 1 "register_operand")))]
+  "TARGET_MMX_WITH_SSE")
 
 (define_insn "mmx_andnot<mode>3"
   [(set (match_operand:MMXMODEI 0 "register_operand" "=y,x,x,v")
